{% extends 'layout.html' %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Macrotech</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Toastr CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

</head>

<body class="index-page">

    <!-- Hero Section -->
    <section class="ecommerce-hero-1 hero section" id="hero">
      
      <div class="container">
        {% if messages %}
          {% for message in messages %}
              <div class="alert 
                  {% if message.tags == 'success' %}
                      alert-success
                  {% elif message.tags == 'error' %}
                      alert-danger
                  {% elif message.tags == 'warning' %}
                      alert-warning
                  {% else %}
                      alert-info
                  {% endif %}
                  alert-dismissible fade show" role="alert">
                  
                  <strong>{{ message }}</strong>
                  
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
          {% endfor %}
        {% endif %}
        <div class="row align-items-center">
          <div class="col-lg-6 content-col" data-aos="fade-right" data-aos-delay="100">
            <div class="content">
              <span class="promo-badge">New Collection 2025</span>
              <h1>Find the Perfect <span>Electronics</span> & Accessories for Every Need</h1>
              <p>Explore our wide range of electronics and accessories designed to suit your lifestyle. From smartphones and laptops to headphones and smart home devices â€” we've got you covered.</p>
              <div class="hero-cta">
                <a href="#" class="btn btn-shop">Shop Now <i class="bi bi-arrow-right"></i></a>
                <a href="#" class="btn btn-collection">View Collection</a>
              </div>
              <div class="hero-features">
                <div class="feature-item">
                  <i class="bi bi-truck"></i>
                  <span>Free Shipping</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-shield-check"></i>
                  <span>Secure Payment</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-arrow-repeat"></i>
                  <span>Easy Returns</span>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6 image-col" data-aos="fade-left" data-aos-delay="200">
            <div class="hero-image">
              <img src="{% static 'assets/img/product/iphone.png' %}" alt="Fashion Product" class="main-product" loading="lazy">
              <div class="floating-product product-1" data-aos="fade-up" data-aos-delay="300">
                <img src="{% static 'assets/img/product/laptop.png' %}" alt="Product 2">
                <div class="product-info">
                  <h4>Summer Collection</h4>
                  <span class="price">Ksh8999</span>
                </div>
              </div>
              <div class="floating-product product-2" data-aos="fade-up" data-aos-delay="400">
                <img src="{% static 'assets/img/product/headphones.png' %}" alt="Product 3">
                <div class="product-info">
                  <h4>Wireless Headphones</h4>
                  <span class="price">Ksh999</span>
                </div>
              </div>
              <div class="discount-badge" data-aos="zoom-in" data-aos-delay="500">
                <span class="percent">30%</span>
                <span class="text">OFF</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section><!-- /Hero Section -->

    <!-- Info Cards Section -->
    <section id="info-cards" class="info-cards section light-background">

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row g-4 justify-content-center">
          <!-- Info Card 1 -->
          <div class="col-12 col-sm-6 col-lg-3" data-aos="fade-up" data-aos-delay="200">
            <div class="info-card text-center">
              <div class="icon-box">
                <i class="bi bi-truck"></i>
              </div>
              <h3>Free Shipping</h3>
              <p>Free delivery for orders within CBD.</p>
            </div>
          </div><!-- End Info Card 1 -->

          <!-- Info Card 2 -->
          <div class="col-12 col-sm-6 col-lg-3" data-aos="fade-up" data-aos-delay="300">
            <div class="info-card text-center">
              <div class="icon-box">
                <i class="bi bi-piggy-bank"></i>
              </div>
              <h3>Money Back Guarantee</h3>
              <p>Get your money back in cases of canceled orders.</p>
            </div>
          </div><!-- End Info Card 2 -->

          <!-- Info Card 3 -->
          <div class="col-12 col-sm-6 col-lg-3" data-aos="fade-up" data-aos-delay="400">
            <div class="info-card text-center">
              <div class="icon-box">
                <i class="bi bi-percent"></i>
              </div>
              <h3>Discount Offers</h3>
              <p>Upto 100% discount offers.</p>
            </div>
          </div><!-- End Info Card 3 -->

          <!-- Info Card 4 -->
          <div class="col-12 col-sm-6 col-lg-3" data-aos="fade-up" data-aos-delay="500">
            <div class="info-card text-center">
              <div class="icon-box">
                <i class="bi bi-headset"></i>
              </div>
              <h3>24/7 Support</h3>
              <p>24/7 customer support for smooth shopping.</p>
            </div>
          </div><!-- End Info Card 4 -->
        </div>

      </div>

    </section><!-- /Info Cards Section -->

    <!-- Category Cards Section -->
    <section id="category-cards" class="category-cards section">

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="category-slider swiper init-swiper">
          <script type="application/json" class="swiper-config">
            {
              "loop": true,
              "autoplay": {
                "delay": 5000,
                "disableOnInteraction": false
              },
              "grabCursor": true,
              "speed": 600,
              "slidesPerView": "auto",
              "spaceBetween": 20,
              "navigation": {
                "nextEl": ".swiper-button-next",
                "prevEl": ".swiper-button-prev"
              },
              "breakpoints": {
                "320": {
                  "slidesPerView": 2,
                  "spaceBetween": 15
                },
                "576": {
                  "slidesPerView": 3,
                  "spaceBetween": 15
                },
                "768": {
                  "slidesPerView": 4,
                  "spaceBetween": 20
                },
                "992": {
                  "slidesPerView": 5,
                  "spaceBetween": 20
                },
                "1200": {
                  "slidesPerView": 6,
                  "spaceBetween": 20
                }
              }
            }
          </script>

          <div class="swiper-wrapper">
            <!-- Category Card 1 -->
            {% for category in categories%}
              <div class="swiper-slide">
                <div class="category-card" data-aos="fade-up" data-aos-delay="100">
                  <div class="category-image">
                    <img src="{{ category.category_image.url }}" alt="Category" class="img-fluid">
                  </div>
                  <h3 class="category-title">{{ category.category_name }}</h3>
                  <p class="category-count">{{ category.product_count }} products</p>
                  <a href="" class="stretched-link"></a>
                </div>
              </div>
            {% endfor %}

            
          </div>

          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>

      </div>

    </section><!-- /Category Cards Section -->

    <!-- Best Sellers Section -->
    <section id="best-sellers" class="best-sellers section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Best Sellers</h2>
        <p>Our best selling products just for you.</p>
      </div><!-- End Section Title -->

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row gy-4">
          {% for best_seller in products %}
            <!-- Product 1 -->
            <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="100">
              <div class="product-card">
                <div class="product-image">
                  <img src="{{ best_seller.product_image.url }}" class="img-fluid default-image" alt="{{ best_seller.product_name }}" loading="lazy">
                  <img src="{{ best_seller.product_more_image.url }}" class="img-fluid hover-image" alt="{{ best_seller.product_name }}" loading="lazy">
                  <div class="product-tags">
                    <span class="badge bg-accent">New</span>
                  </div>
                  <div class="product-actions">
                    <button class="btn-wishlist" type="button" aria-label="Add to wishlist">
                      <i class="bi bi-heart"></i>
                    </button>
                    <button class="btn-quickview" type="button" aria-label="Quick view">
                      <i class="bi bi-eye"></i>
                    </button>
                  </div>
                </div>
                <div class="product-info">
                  <h3 class="product-title"><a href="{% url 'product_detail' best_seller.id %}">{{ best_seller.product_name }}</a></h3>
                  <div class="product-price">
                    <span class="current-price">Sh{{ best_seller.current_price }}</span>
                    {% if best_seller.old_price %}
                      <span class="original-price">Sh{{ best_seller.old_price }}</span>
                    {% endif %}
                  </div>
                  <div class="product-rating">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-half"></i>
                    <span class="rating-count">(42)</span>
                  </div>
                  <button class="btn btn-add-to-cart add-to-cart" data-product="{{ best_seller.id }}">
                    <i class="bi bi-bag-plus me-2"></i>Add to Cart
                  </button>
                </div>
              </div>
            </div>
          {% endfor %}
          <!-- End Product 1 -->

        </div>

      </div>

    </section><!-- /Best Sellers Section -->

    <!-- Product List Section -->
    <section id="product-list" class="product-list section">

      <div class="container isotope-layout" data-aos="fade-up" data-aos-delay="100" data-default-filter="*" data-layout="masonry" data-sort="original-order">

        <div class="row">
          <div class="col-12">
            <div class="product-filters isotope-filters mb-5 d-flex justify-content-center" data-aos="fade-up">
              <ul class="d-flex flex-wrap gap-2 list-unstyled">
                <li class="filter-active" data-filter="*">All</li>
                <li data-filter=".filter-clothing">Laptops</li>
                <li data-filter=".filter-accessories">Accessories</li>
                <li data-filter=".filter-electronics">Desktops</li>
                <li data-filter=".filter-electronics">Smartphones</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="row product-container isotope-container" data-aos="fade-up" data-aos-delay="200">

          <!-- Product Item 1 -->
          {% for product in products %}
            <div class="col-md-6 col-lg-3 product-item isotope-item filter-clothing">
              <div class="product-card">
                <div class="product-image">
                  <span class="badge">Sale</span>
                  <img src="{{ product.product_image.url }}" alt="{{ product.product_name }}" class="img-fluid main-img">
                  <img src="{{ product.product_more_image.url }}" alt="{{ product.product_name }}" class="img-fluid hover-img">
                  <div class="product-overlay">
                    <a href="javascript:void(0)" class="btn-cart add-to-cart" data-product="{{ product.id }}"><i class="bi bi-cart-plus"></i> Add to Cart</a>
                    <div class="product-actions">
                      <a href="#" class="action-btn"><i class="bi bi-heart"></i></a>
                      <a href="#" class="action-btn"><i class="bi bi-eye"></i></a>
                      <a href="#" class="action-btn"><i class="bi bi-arrow-left-right"></i></a>
                    </div>
                  </div>
                </div>
                <div class="product-info">
                  <h5 class="product-title"><a href="{% url 'product_detail' product.id %}">{{ product.product_name }}</a></h5>
                  <div class="product-price">
                    <span class="current-price">Sh{{ product.current_price }}</span>
                    <span class="old-price">Sh{{ product.old_price }}</span>
                  </div>
                  <div class="product-rating">
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-fill"></i>
                    <i class="bi bi-star-half"></i>
                    <span>(24)</span>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
          <!-- End Product Item -->

        </div>

        <div class="text-center mt-5" data-aos="fade-up">
          <a href="#" class="view-all-btn">View All Products <i class="bi bi-arrow-right"></i></a>
        </div>

      </div>

    </section><!-- /Product List Section -->

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Toastr JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
  <script src="{% static 'assets/js/addtocart.js' %}" ></script>
</body>

</html>
{% endblock %}